/*! medium-zoom 1.0.5 | MIT License | https://github.com/francoischalifour/medium-zoom */!function(a,b){typeof exports=="object"&&typeof module!="undefined"?module.exports=b():typeof define=="function"&&define.amd?define(b):(a=a||self,a.mediumZoom=b())}(this,function(){var a,c,i,d,e,f,g,h,b,j;return"use strict",a=Object.assign||function(d){for(var c=1,a,b;c<arguments.length;c++){a=arguments[c];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])}return d},c=function(a){return a.tagName==="IMG"},i=function(a){return NodeList.prototype.isPrototypeOf(a)},d=function(a){return a&&a.nodeType===1},e=function(a){var b=a.currentSrc||a.src;return b.substr(-4).toLowerCase()===".svg"},f=function(a){try{return Array.isArray(a)?a.filter(c):i(a)?[].slice.call(a).filter(c):d(a)?[a].filter(c):typeof a=="string"?[].slice.call(document.querySelectorAll(a)).filter(c):[]}catch(a){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},g=function(){var a=document.createElement("div");return a.classList.add("medium-zoom-overlay"),a},h=function(d){var b=d.getBoundingClientRect(),i=b.top,g=b.left,h=b.width,f=b.height,a=d.cloneNode(),e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=i+e+"px",a.style.left=g+c+"px",a.style.width=h+"px",a.style.height=f+"px",a.style.transform="",a},b=function(d,e){var b=a({bubbles:!1,cancelable:!1,detail:void 0},e),c;return typeof window.CustomEvent=="function"?new CustomEvent(d,b):(c=document.createEvent("CustomEvent"),c.initCustomEvent(d,b.bubbles,b.cancelable,b.detail),c)},j=function H(o){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=window.Promise||function(b){function a(){}b(a,a)},F=function(b){var a=b.target;if(a===p){l();return}if(k.indexOf(a)===-1)return;s({target:a})},E=function(){if(m||!c.original)return;var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(t-a)>i.scrollOffset&&setTimeout(l,150)},D=function(b){var a=b.key||b.keyCode;(a==="Escape"||a==="Esc"||a===27)&&l()},C=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=c,f;return c.container&&c.container instanceof Object&&(e.container=a({},i.container,c.container)),c.template&&(f=d(c.template)?c.template:document.querySelector(c.template),e.template=f),i=a({},i,e),k.forEach(function(a){a.dispatchEvent(b("medium-zoom:update",{detail:{zoom:j}}))}),j},B=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H(a({},i,b))},r=function(){for(var c=arguments.length,d=Array(c),a=0,b=d.reduce(function(a,b){return[].concat(a,f(b))},[]);a<c;a++)d[a]=arguments[a];return b.filter(function(a){return k.indexOf(a)===-1}).forEach(function(a){k.push(a),a.classList.add("medium-zoom-image")}),n.forEach(function(a){var c=a.type,d=a.listener,e=a.options;b.forEach(function(a){a.addEventListener(c,d,e)})}),j},A=function(){for(var g=arguments.length,d=Array(g),a=0,e;a<g;a++)d[a]=arguments[a];return c.zoomed&&l(),e=d.length>0?d.reduce(function(a,b){return[].concat(a,f(b))},[]):k,e.forEach(function(a){a.classList.remove("medium-zoom-image"),a.dispatchEvent(b("medium-zoom:detach",{detail:{zoom:j}}))}),k=k.filter(function(a){return e.indexOf(a)===-1}),j},w=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k.forEach(function(d){d.addEventListener("medium-zoom:"+a,b,c)}),n.push({type:"medium-zoom:"+a,listener:b,options:c}),j},v=function(a,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k.forEach(function(d){d.removeEventListener("medium-zoom:"+a,b,c)}),n=n.filter(function(c){return!(c.type==="medium-zoom:"+a&&c.listener.toString()===b.toString())}),j},u=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=n.target,f=function(){var b={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},f=void 0,g=void 0,z,j,w,v,s,r,h,q,p,k,t,u,n,m,x,y,l,A,B,o;i.container&&(i.container instanceof Object?(b=a({},b,i.container),f=b.width-b.left-b.right-i.margin*2,g=b.height-b.top-b.bottom-i.margin*2):(z=d(i.container)?i.container:document.querySelector(i.container),j=z.getBoundingClientRect(),w=j.width,v=j.height,s=j.left,r=j.top,b=a({},b,{width:w,height:v,left:s,top:r}))),f=f||b.width-i.margin*2,g=g||b.height-i.margin*2,h=c.zoomedHd||c.original,q=e(h)?f:h.naturalWidth||f,p=e(h)?g:h.naturalHeight||g,k=h.getBoundingClientRect(),t=k.top,u=k.left,n=k.width,m=k.height,x=Math.min(q,f)/n,y=Math.min(p,g)/m,l=Math.min(x,y),A=(-u+(f-n)/2+i.margin+b.left)/l,B=(-t+(g-m)/2+i.margin+b.top)/l,o="scale("+l+") translate3d("+A+"px, "+B+"px, 0)",c.zoomed.style.transform=o,c.zoomedHd&&(c.zoomedHd.style.transform=o)};return new q(function(a){var n,o,q,e,r;if(g&&k.indexOf(g)===-1){a(j);return}if(n=function d(){m=!1,c.zoomed.removeEventListener("transitionend",d),c.original.dispatchEvent(b("medium-zoom:opened",{detail:{zoom:j}})),a(j)},c.zoomed){a(j);return}if(g)c.original=g;else if(k.length>0)o=k,c.original=o[0];else{a(j);return}c.original.dispatchEvent(b("medium-zoom:open",{detail:{zoom:j}})),t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,m=!0,c.zoomed=h(c.original),document.body.appendChild(p),i.template&&(q=d(i.template)?i.template:document.querySelector(i.template),c.template=document.createElement("div"),c.template.appendChild(q.content.cloneNode(!0)),document.body.appendChild(c.template)),document.body.appendChild(c.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),c.original.classList.add("medium-zoom-image--hidden"),c.zoomed.classList.add("medium-zoom-image--opened"),c.zoomed.addEventListener("click",l),c.zoomed.addEventListener("transitionend",n),c.original.getAttribute("data-zoom-src")?(c.zoomedHd=c.zoomed.cloneNode(),c.zoomedHd.removeAttribute("srcset"),c.zoomedHd.removeAttribute("sizes"),c.zoomedHd.src=c.zoomed.getAttribute("data-zoom-src"),c.zoomedHd.onerror=function(){clearInterval(e),console.warn("Unable to reach the zoom image target "+c.zoomedHd.src),c.zoomedHd=null,f()},e=setInterval(function(){c.zoomedHd.complete&&(clearInterval(e),c.zoomedHd.classList.add("medium-zoom-image--opened"),c.zoomedHd.addEventListener("click",l),document.body.appendChild(c.zoomedHd),f())},10)):c.original.hasAttribute("srcset")?(c.zoomedHd=c.zoomed.cloneNode(),c.zoomedHd.removeAttribute("sizes"),r=c.zoomedHd.addEventListener("load",function(){c.zoomedHd.removeEventListener("load",r),c.zoomedHd.classList.add("medium-zoom-image--opened"),c.zoomedHd.addEventListener("click",l),document.body.appendChild(c.zoomedHd),f()})):f()})},l=function(){return new q(function(a){if(m||!c.original){a(j);return}var d=function d(){c.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(c.zoomed),c.zoomedHd&&document.body.removeChild(c.zoomedHd),document.body.removeChild(p),c.zoomed.classList.remove("medium-zoom-image--opened"),c.template&&document.body.removeChild(c.template),m=!1,c.zoomed.removeEventListener("transitionend",d),c.original.dispatchEvent(b("medium-zoom:closed",{detail:{zoom:j}})),c.original=null,c.zoomed=null,c.zoomedHd=null,c.template=null,a(j)};m=!0,document.body.classList.remove("medium-zoom--opened"),c.zoomed.style.transform="",c.zoomedHd&&(c.zoomedHd.style.transform=""),c.template&&(c.template.style.transition="opacity 150ms",c.template.style.opacity=0),c.original.dispatchEvent(b("medium-zoom:close",{detail:{zoom:j}})),c.zoomed.addEventListener("transitionend",d)})},s=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=a.target;return c.original?l():u({target:b})},x=function(){return i},y=function(){return k},z=function(){return c.original},k=[],n=[],m=!1,t=0,i=G,c={original:null,zoomed:null,zoomedHd:null,template:null},p,j;return Object.prototype.toString.call(o)==="[object Object]"?i=o:(o||typeof o=="string")&&r(o),i=a({margin:0,scrollOffset:40,container:null,template:null},i),p=g(),document.addEventListener("click",F),document.addEventListener("keyup",D),document.addEventListener("scroll",E),window.addEventListener("resize",l),j={open:u,close:l,toggle:s,update:C,clone:B,attach:r,detach:A,on:w,off:v,getOptions:x,getImages:y,getZoomedImage:z},j},j}),mediumZoom(document.querySelectorAll('div.post-content img'))